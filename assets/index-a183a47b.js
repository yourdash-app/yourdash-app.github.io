import{u as W,r,c as g,j as e,C as i,B as w,T as H,g as L,M as S,e as m,d as B,I as d,R as M,a as v}from"./index-88b4056e.js";import{C as y}from"./Carousel-7b9e02e4.js";const $=()=>{const n=W(),[o,l]=r.useState([]),[t,f]=r.useState([]);return r.useEffect(()=>{g.getJson("/app/weather/previous/locations",a=>{f(a||[])})},[]),e.jsxs("main",{className:"flex h-full w-full items-center justify-center overflow-auto relative flex-col",children:[e.jsx("h2",{className:"pt-4 pb-4 pl-4 text-base-50 font-semibold text-3xl bg-container-bg absolute top-0 left-0 w-full",children:"Weather"}),e.jsxs(i,{className:"gap-2 flex flex-col mb-4",children:[e.jsx("span",{children:"Previous locations"}),t.length!==0?t.map(a=>e.jsx(w,{onClick:()=>{n(`/app/a/weather/location/${a.id}`)},children:a.name},a.id)):e.jsx("span",{children:"You have no previous locations"})]}),e.jsxs(i,{className:"gap-2 flex flex-col",children:[e.jsx(H,{onChange:a=>{g.getJson(`/app/weather/location/${a.replaceAll(" ","+")}`,c=>{l((c==null?void 0:c.results)||[])})},label:"Location"}),o.map(a=>e.jsxs(w,{className:"bg-button-bg hover:bg-button-hover-bg active:bg-button-active-bg text-button-fg hover:text-button-hover-fg active:text-button-active-fg pl-2 pr-2 pt-1 pb-1 transition-[var(--transition)] cursor-pointer",onClick:()=>{n(`/app/a/weather/location/${a.id}`)},children:[a.name,", ",a.admin1&&`${a.admin1}, `,a.admin2&&`${a.admin2}, `,a.country]},a.id))]}),e.jsx("a",{href:"https://open-meteo.com/",className:"absolute bottom-0 right-0",children:"Powered by open-meteo.com"})]})};function C(n,o){const l=[];for(let t=0;t<n.length;t+=o)l.push(n.slice(t,t+o));return l}const K="/assets/clear-e316c863.avif",F="/assets/cloudy1-98a8c5b9.avif",Y="/assets/cloudy2-0e567ddd.jpg",P="/assets/foggy-527c269c.jpg",A="/assets/rain1-5759113f.jpg",I="/assets/rain2-26efd74c.jpg",D="/assets/rain3-4f651897.jpg",R="/assets/snow-0e17c021.jpg",J="/assets/snow2-06b05777.jpg",Q="/assets/thunder-c898358c.jpg",V="/assets/clear-e6646530.svg",h="/assets/heavy_rain-87c64938.svg",x="/assets/light_rain-2bd7270f.svg",p="/assets/snow-c0a10934.svg",E="/assets/cloudy-2da3d985.svg",q="/assets/partly_cloudy-73e5f33d.svg",z=[K,F,Y,P,A,I,D,R,J,R,A,I,D,Q],O=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function X(n){switch(n){case 0:return"clear skies";case 6:return"heavy rain";case 9:return"heavy snow";case 2:return"cloudy";case 7:return"light snow";case 3:return"foggy";case 4:return"light rain";case 11:return"rain showers";case 12:return"heavy rain showers";case 10:return"light rain showers";case 1:return"partly cloudy";case 5:return"raining";case 8:return"snowing";case 13:return"thunder";default:return"unknown"}}function u(n){switch(n){case 0:return V;case 6:return h;case 9:return p;case 2:return E;case 7:return p;case 3:return E;case 4:return x;case 11:return x;case 12:return h;case 10:return x;case 1:return q;case 5:return x;case 8:return p;case 13:return h;default:return"/assets/productLogos/yourdash.svg"}}const Z=()=>{var j,b;const[n,o]=r.useState(0),{id:l}=L(),[t,f]=r.useState(null),a=W(),[c,_]=r.useState(0),[G,U]=r.useState(!1),[T,k]=r.useState(!1);return r.useEffect(()=>{l||a("/app/a/weather"),g.getJson(`/app/weather/forId/${l}`,s=>{f(s),o(s.currentWeather.condition)},()=>{U(!0)})},[l]),t?e.jsxs("div",{className:m("overflow-auto animate__animated animate__faster",T?"animate__fadeOutRight":"animate__fadeIn"),children:[e.jsxs("header",{style:{backgroundImage:`url("${z[n]}")`},className:"bg-center bg-cover bg-fixed pb-6 relative overflow-hidden",children:[e.jsxs("div",{className:"flex pl-8 pt-8 pb-8 flex-row from-base-700 to-transparent bg-gradient-to-b animate__animated animate__fadeInDown",children:[e.jsx(B,{icon:"arrow-left-16",className:"mb-4",onClick:()=>{k(!0),setTimeout(()=>{a("/app/a/weather")},600)}}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("h1",{className:"text-container-fg font-bold text-5xl stroke-2 stroke-base-900",children:[t==null?void 0:t.name,","]}),e.jsxs("span",{className:"mt-auto text-container-fg text-xl stroke-1 stroke-base-900 animate__animated animate__slideInDown animate__delay-100",children:[(t==null?void 0:t.admin1)&&`${t.admin1}, `,(t==null?void 0:t.admin2)&&`${t.admin2}, `,t==null?void 0:t.country]})]})]}),e.jsx("section",{className:"h-48 flex items-center justify-center",children:e.jsxs("span",{className:"animate__animated animate__fadeInUp text-6xl font-bold text-center [filter:_drop-shadow(0_10px_8px_rgb(0_0_0/0.04))_drop-shadow(0_4px_3px_rgb(0_0_0/0.1))_drop-shadow(0_10px_8px_rgb(0_0_0/0.04))_drop-shadow(0_4px_3px_rgb(0_0_0/0.1))_drop-shadow(0_10px_8px_rgb(0_0_0/0.04))_drop-shadow(0_4px_3px_rgb(0_0_0/0.1))]",children:["Currently ",t==null?void 0:t.currentWeather.temp.toFixed(0),t==null?void 0:t.daily.unit," ",(t==null?void 0:t.currentWeather.condition)!==2&&(t==null?void 0:t.currentWeather.condition)!==1&&(t==null?void 0:t.currentWeather.condition)!==13?"with":"and"," ",X((t==null?void 0:t.currentWeather.condition)||0)]})}),e.jsxs(y,{compactControls:!0,containerClassName:"min-w-full p-10 pb-4 pt-4 max-w-full overflow-x-auto rounded-xl animate__animated animate__fadeInUp",className:"flex flex-row gap-2",children:[e.jsx("div",{className:"w-48 relative",children:e.jsxs(i,{onClick:()=>{_(0)},className:m("w-full h-[10.5rem] flex-col transition-[var(--transition)] absolute",c===0?"bottom-[3.5rem]":"bottom-0"),children:[e.jsxs("section",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"font-bold text-6xl flex",children:[new Date(t.daily.days[0].date).getDate(),e.jsx("div",{className:"font-normal text-2xl mb-auto",children:"th"})]}),e.jsx("img",{src:u(t.daily.days[0].condition),draggable:!1,alt:"",className:"w-16 pl-2"})]}),e.jsx("section",{className:"font-normal text-3xl",children:O[new Date(t.daily.days[0].date).getDay()]}),e.jsxs("section",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(d,{name:"triangle-down-16",color:"rgb(var(--container-fg))",className:"h-8"}),(j=t.daily.days[0])==null?void 0:j.temp.min,"°C"]}),e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(d,{name:"triangle-up-16",color:"rgb(var(--container-fg))",className:"h-8"}),(b=t.daily.days[0])==null?void 0:b.temp.max,"°C"]})]})]})}),t.daily.days.slice(1).map((s,N)=>e.jsx("div",{className:"w-48 relative",children:e.jsxs(i,{onClick:()=>{_(N+1)},className:m("w-full h-[10.5rem] flex-col transition-[var(--transition)] absolute",c===N+1?"bottom-[3.5rem]":"bottom-0"),children:[e.jsxs("section",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"font-bold text-6xl flex",children:[new Date(s.date).getDate(),e.jsx("div",{className:"font-normal text-2xl mb-auto",children:"th"})]}),e.jsx("img",{src:u(s.condition),draggable:!1,alt:"",className:"w-16 pl-2"})]}),e.jsx("section",{className:"font-normal text-3xl",children:O[new Date(s.date).getDay()]}),e.jsxs("section",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(d,{name:"triangle-down-16",color:"rgb(var(--container-fg))",className:"h-8"}),s==null?void 0:s.temp.min,"°C"]}),e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsx(d,{name:"triangle-up-16",color:"rgb(var(--container-fg))",className:"h-8"}),s==null?void 0:s.temp.max,"°C"]})]})]})},s.date))]}),e.jsx("footer",{children:e.jsx("a",{href:"https://open-meteo.com/",className:"absolute bottom-0 right-0 text-xs text-opacity-50 text-white animate__animated animate__fadeIn animate__delay-500ms pr-1 pb-0.5",children:"powered by open-meteo"})})]}),e.jsx("main",{className:"flex flex-col w-full",children:e.jsx(y,{compactControls:!0,containerClassName:"min-w-full p-10 pb-4 pt-4 max-w-full overflow-x-auto rounded-xl animate__animated animate__fadeIn animate__delay-500ms",className:"flex flex-row gap-2",children:c!==0?C(t.hourly.hours,24)[c].map(s=>e.jsx("div",{className:"w-48 relative h-[7.5rem] mt-auto mb-auto",children:e.jsxs(i,{className:m("w-full h-full flex-col transition-[var(--transition)] absolute"),children:[e.jsxs("section",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"font-bold text-3xl flex",children:new Date(s.date).getHours()<10?`0${new Date(s.date).getHours()}:00`:`${new Date(s.date).getHours()}:00`}),e.jsx("img",{src:u(s.condition),draggable:!1,alt:"",className:"w-16"})]}),e.jsxs("section",{className:"flex justify-center items-center w-full text-center",children:[s==null?void 0:s.temp,"°C"]})]})},s.date)):C(t.hourly.hours,24)[0].slice(new Date().getHours()).map(s=>e.jsx("div",{className:"w-48 relative h-[7.5rem] mt-auto mb-auto",children:e.jsxs(i,{className:m("w-full h-full flex-col transition-[var(--transition)] absolute"),children:[e.jsxs("section",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"font-bold text-3xl flex",children:new Date(s.date).getHours()<10?`0${new Date(s.date).getHours()}:00`:`${new Date(s.date).getHours()}:00`}),e.jsx("img",{src:u(s.condition),draggable:!1,alt:"",className:"w-16"})]}),e.jsxs("section",{className:"flex justify-center items-center w-full text-center",children:[s==null?void 0:s.temp,"°C"]})]})},s.date))})})]}):e.jsx(e.Fragment,{children:G&&e.jsxs("main",{className:"flex flex-col items-center justify-center h-full w-full gap-2",children:[e.jsx("span",{className:"text-3xl pl-4 pr-4 text-center",children:"Unable to gather data for this location at this moment"}),e.jsx(S,{onClick:()=>{a("/app/a/weather")},children:"Go back"})]})})},se=()=>e.jsxs(M,{children:[e.jsx(v,{index:!0,element:e.jsx($,{})}),e.jsx(v,{path:"location/:id",element:e.jsx(Z,{})})]});export{se as default};
